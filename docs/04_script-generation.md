# 04. 台本生成（Step②）

## 概要

取得した記事からAIを使って15秒動画用の台本を自動生成する。

## 完了条件

- 記事から15秒台本が自動生成される
- 4種類のテンプレートから選択できる
- 3つのフック案が提案され、選択できる
- 生成後に編集ができる

## 技術仕様

| 項目 | 内容 |
|------|------|
| AI | Google Gemini（または適切なLLM） |
| テンプレート | 失敗談 / 成功談 / 開発ストーリー / How-to |
| 台本構成 | フック → ベネフィット → 結論 → CTA |

## タスク

- [x] テンプレート選択UI
- [x] AI台本生成API（Server Action）
- [x] フック提案機能（3案表示）
- [x] フック選択UI
- [x] 台本編集機能（テキストエリア）
- [x] 文字数カウント（15秒に収まる目安表示）
- [x] 台本の保存・次ステップへの受け渡し
- [x] 再生成機能

## 台本構成

```
【フック】（1-2秒）視聴者の注意を引く
【ベネフィット】（5-7秒）価値の提示
【結論】（4-5秒）まとめ
【CTA】（2-3秒）行動喚起
```

## データ構造

```typescript
interface Script {
  template: 'failure' | 'success' | 'development' | 'howto'
  hook: string
  hookOptions: string[] // 3つの候補
  benefit: string
  conclusion: string
  cta: string
  fullText: string
}
```

## プロンプト設計

- 記事の要点を抽出
- 15秒で読める長さに要約
- テンプレートに沿った構成
- キャッチーなフックを複数提案
