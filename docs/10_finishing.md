# 10. 仕上げ

## 概要

UI調整、エラーハンドリングの強化、テスト、最終確認を行う。

## 完了条件

- 全機能が正常に動作する
- エラー時に適切なメッセージが表示される
- UIが一貫性を持っている
- 基本的なテストが通る

## タスク

### エラーハンドリング

- [ ] 画像生成失敗時の再生成ボタン
- [ ] 音声生成失敗時の再生成ボタン
- [ ] 動画書き出し失敗時の再生成ボタン
- [ ] 記事取得失敗時のエラーメッセージ + 代替入力案内
- [ ] ネットワークエラー時の対応
- [ ] API制限エラー時の対応

### UI調整

- [ ] 全画面のデザイン統一確認
- [ ] ローディング状態の統一
- [ ] Toastメッセージの統一
- [ ] レスポンシブ確認（PC）
- [ ] アクセシビリティ基本対応

### テスト

- [ ] 主要フローのE2Eテスト
- [ ] API連携のテスト
- [ ] エラーケースのテスト

### その他

- [ ] 離脱時の注意書き表示（途中保存なし）
- [ ] パフォーマンス確認
- [ ] セキュリティ確認（環境変数、RLS）
- [ ] 本番環境デプロイ確認

## エラーメッセージ一覧

| エラー種別 | メッセージ |
|-----------|----------|
| URL無効 | 「note.comのURLを入力してください」 |
| 記事取得失敗 | 「URLが間違っているか、非公開になっていないか確認してください」 |
| 画像生成失敗 | 「画像の生成に失敗しました。再生成してください」 |
| 音声生成失敗 | 「音声の生成に失敗しました。再生成してください」 |
| 動画生成失敗 | 「動画の生成に失敗しました。再生成してください」 |
| ネットワークエラー | 「通信エラーが発生しました。しばらくしてから再度お試しください」 |

## チェックリスト

### 機能確認

- [ ] URL入力 → 記事取得
- [ ] 台本生成 → 編集
- [ ] 画像生成 → 再生成 → 差し替え
- [ ] 音声生成 → 再生 → 再生成
- [ ] BGM選択 → 試聴
- [ ] 動画書き出し → ダウンロード
- [ ] マイページ → 一覧表示

### セキュリティ確認

- [ ] 環境変数がコードにハードコードされていない
- [ ] Supabase RLSが適切に設定されている
- [ ] APIキーが露出していない
